# The Spending List

AI-powered analysis of government contract spending data from USASpending.gov. Built to promote transparency and help citizens understand how public funds are used.

## Tech Stack

- **Frontend:** Next.js 15, React 19, TypeScript, Tailwind CSS
- **Backend:** Next.js API Routes, Prisma ORM
- **Database:** PostgreSQL
- **AI:** Groq (Llama 3.1), Claude (optional)
- **Deployment:** Railway / Docker
- **Rate Limiting:** Upstash Redis

## Features

- ğŸ¤– AI-powered contract analysis and scoring (1-10 scale)
- ğŸ” Search and filter government contracts
- ğŸ“Š Admin dashboard for data management
- ğŸ—ºï¸ Dynamic sitemap generation for SEO
- ğŸ“ˆ Contract categorization and scoring
- ğŸ”— Direct links to USASpending.gov for verification

## Development Setup

### Option 1: Standard Development (Current Workflow)

1. **Install dependencies:**

```bash
npm install
```

2. **Set up environment variables:**
   Create a `.env` or `.env.local` file:

```env
DATABASE_URL=postgresql://user:password@localhost:5432/thespendinglist
GROQ_API_KEY=your-groq-key
ADMIN_API_KEY=your-admin-key
NEXT_PUBLIC_URL=http://localhost:3000
```

3. **Set up database:**

```bash
npm run db:push
```

4. **Run development server:**

```bash
npm run dev
```

Visit http://localhost:3000

### Option 2: Docker Development

Run the entire stack (app + PostgreSQL) with Docker:

1. **Build and start containers:**

```bash
docker-compose up
```

2. **Run database migrations (first time only):**

```bash
docker-compose exec app npx prisma db push
```

3. **Stop containers:**

```bash
docker-compose down
```

**Note:** You'll need to add your API keys to the `docker-compose.yml` file.

## Production Deployment

### Railway (Current Method)

- Push to GitHub
- Railway auto-detects Next.js and builds
- Set environment variables in Railway dashboard

### Docker (Alternative)

```bash
# Build image
docker build -t thespendinglist .

# Run container
docker run -p 3000:3000 \
  -e DATABASE_URL=your-database-url \
  -e GROQ_API_KEY=your-api-key \
  thespendinglist
```

## Scripts

```bash
npm run dev          # Start development server
npm run build        # Build for production
npm run start        # Start production server
npm run lint         # Run ESLint
npm run db:push      # Push Prisma schema to database
npm run db:migrate   # Create database migration
npm run db:studio    # Open Prisma Studio
```

## Admin Dashboard

Access at `/api/admin` with your admin key.

Features:

- Crawl USASpending.gov for new contracts
- View analytics and statistics
- Manage contract entries

## Project Structure

```
â”œâ”€â”€ app/                    # Next.js app directory
â”‚   â”œâ”€â”€ api/               # API routes
â”‚   â”œâ”€â”€ contract/          # Contract detail pages
â”‚   â””â”€â”€ page.tsx           # Home page
â”œâ”€â”€ components/            # React components
â”œâ”€â”€ lib/                   # Utility functions
â”‚   â”œâ”€â”€ groq.ts           # AI analysis with Groq
â”‚   â”œâ”€â”€ usaspending.ts    # USASpending.gov API
â”‚   â””â”€â”€ db.ts             # Prisma client
â”œâ”€â”€ prisma/
â”‚   â””â”€â”€ schema.prisma     # Database schema
â”œâ”€â”€ Dockerfile            # Docker container config
â””â”€â”€ docker-compose.yml    # Local dev stack
```

## Key Design Decisions

- **AI Analysis Removed:** Originally included detailed contract analysis with Claude, but removed to reduce legal liability while maintaining core scoring functionality
- **Simple Scoring:** Uses Llama 3.1 for straightforward 1-10 price reasonableness scores
- **No Contractor Accusations:** Focuses on contract terms only, not contractor history
- **Educational Focus:** Promotes transparency without making accusations

## Contributing

This is a portfolio project demonstrating:

- Full-stack TypeScript development
- AI/LLM integration
- Database design with Prisma
- Automated data pipelines
- Docker containerization
- Production deployment

## License

MIT

## Disclaimer

This site uses AI to analyze publicly available government contract data. The observations are generated by artificial intelligence and may not reflect the full context. These are not accusations of wrongdoing. Always verify information independently at USASpending.gov.

For educational and transparency purposes only.
